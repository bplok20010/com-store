(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,n){},125:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),r=n(71),c=n.n(r),i=(n(111),n(19),n(112),n(68),n(18)),o=n.n(i),l=(n(119),n(65),n(120),n(121),n(123),n(72)),u=n.n(l),m=n(13),d=n.n(m),f=n(73),h=n.n(f),v=n(74);function E(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}n.n(v).a;function p(e){e.__$isProvider||h()(!1)}let g=1;var b=function(e,t={}){var n,s;const r=()=>"function"===typeof e?e():e,c=a.a.createContext({state:{value:r()}}),i=a.a.createContext({}),l=(null===t||void 0===t?void 0:t.actions)||{},m={};Object.keys(l).forEach(e=>{m[e]=function(t,n){l[e].call(n,t,{state:n.getState(),setState:e=>n.setState(e),actions:l})}});const f=(s=n=class extends a.a.Component{constructor(e){super(e),d()(this,"actions",void 0),d()(this,"_listeners",[]),d()(this,"__$isProvider",!0),d()(this,"state",{value:this.props.initialValue||r()});const t={};Object.keys(m).forEach(e=>{t[e]=t=>{m[e](t,this)}}),this.actions=t}getSubscribeCount(){return this._listeners.length}getActions(){return this.actions}getState(){return this.state.value}setState(e,t){const n=this.state;super.setState({value:e},()=>{this._listeners.forEach(e=>{e(n.value,this.state.value)}),t&&t()})}subscribe(e){return this._listeners.push(e),()=>{const t=this._listeners.indexOf(e);t>-1&&this._listeners.splice(t,1)}}componentWillUnmount(){this._listeners.length=0}render(){return a.a.createElement(i.Provider,{value:this.state.value},a.a.createElement(c.Provider,{value:this},this.props.children))}},d()(n,"displayName",t.namespace),s);return{Context:i,Provider:f,Consumer:function(e){const t=a.a.useContext(c);p(t);const n=a.a.useState(t.getState()),s=o()(n,2),r=s[0],i=s[1];return p(t),a.a.useEffect(()=>t.subscribe((e,t)=>{i(t)})),e.children(r)},useStore:function(){const e=a.a.useContext(c);return p(e),e},useSelector:function(e){const t=a.a.useContext(c);p(t);const n=a.a.useState(e(t.getState())),s=o()(n,2),r=s[0],i=s[1];return a.a.useEffect(()=>t.subscribe((t,n)=>{const s=e(n);(function(e,t){if(E(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!E(e[n[a]],t[n[a]]))return!1;return!0})(r,s)||i(s)})),r},useActions:function(){const e=a.a.useContext(c);return p(e),e.getActions()},useDispatch:function(){const e=a.a.useContext(c);p(e);const t=e.getActions();return a.a.useCallback((e,n)=>{if(t[e])return t[e](n)},[e])},connect:function(e,t){const n=a.a.useContext(c);p(n);const s=function(s){return function(r){return a.a.createElement(a.a.Fragment,null,a.a.createElement(s,u()({},r,null===e||void 0===e?void 0:e(n.getState(),r),null===t||void 0===t?void 0:t(n.getActions(),r))))}};return s}}}({items:[{id:g,title:"demo1",desc:"test"}]},{actions:{add(e,{state:t,setState:n}){n({items:[...t.items,Object.assign({id:++g},e)]})},remove(e,{state:t,setState:n}){n({items:t.items.filter(t=>t.id!==e)})}}});function S(){const e=b.useActions().remove,t=[...b.useSelector(e=>e.items)];return a.a.createElement(a.a.Fragment,null,t.length?null:a.a.createElement("div",{className:"item"},"no data."),t.map((t,n)=>a.a.createElement("div",{key:n,className:"item"},a.a.createElement("div",{className:"title"},t.id,". ",t.title),a.a.createElement("div",{className:"desc"},t.desc),a.a.createElement("div",{className:"remove",onClick:()=>e(t.id)},"Remove"))))}function C(){const e=b.useActions().add;return a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{onClick:()=>e({title:"demo_"+Date.now(),desc:"test"})},"Add"))}function x(){const e=b.useSelector(e=>e.items.length);return a.a.createElement("div",{className:"total"},e," total")}function y(e){let t=a.a.useState(0),n=o()(t,2),s=n[0],r=n[1];return a.a.useEffect(()=>{r(s+1)},[e]),a.a.createElement(a.a.Fragment,null,s)}class _ extends a.a.Component{render(){return a.a.createElement("div",{className:"todo-list"},a.a.createElement(b.Provider,null,a.a.createElement(C,null),a.a.createElement("button",{onClick:()=>this.forceUpdate()},"Refresh")," ",a.a.createElement(y,null),a.a.createElement(x,null),a.a.createElement(S,null)))}}var k=_;function N(){return a.a.createElement("div",{className:"main"},a.a.createElement(k,null),a.a.createElement(k,null))}c.a.render(a.a.createElement(N,null),document.getElementById("root"))},75:function(e,t,n){n(76),e.exports=n(125)}},[[75,1,2]]]);