(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,n){},125:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),r=n(71),i=n.n(r),c=(n(111),n(67),n(18)),o=n.n(c),l=(n(118),n(24),n(65),n(119),n(120),n(121),n(123),n(72)),u=n.n(l),m=n(13),d=n.n(m),f=n(73),h=n.n(f),v=n(74);function E(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}n.n(v).a;function p(e){e.__$isProvider||h()(!1)}var g=function(e,t={}){var n,s;const r=()=>"function"===typeof e?e():e,i=a.a.createContext({state:{value:r()}}),c=a.a.createContext({}),l=(null===t||void 0===t?void 0:t.actions)||{},m={};Object.keys(l).forEach(e=>{m[e]=function(t,n){l[e].call(n,t,{state:n.getState(),setState:e=>n.setState(e),actions:l})}});const f=(s=n=class extends a.a.Component{constructor(e){super(e),d()(this,"actions",void 0),d()(this,"_listeners",[]),d()(this,"__$isProvider",!0),d()(this,"state",{value:this.props.initialValue||r()});const t={};Object.keys(m).forEach(e=>{t[e]=t=>{m[e](t,this)}}),this.actions=t}getSubscribeCount(){return this._listeners.length}getActions(){return this.actions}getState(){return this.state.value}setState(e,t){const n=this.state;super.setState({value:e},()=>{this._listeners.forEach(e=>{e(n.value,this.state.value)}),t&&t()})}subscribe(e){return this._listeners.push(e),()=>{const t=this._listeners.indexOf(e);t>-1&&this._listeners.splice(t,1)}}componentWillUnmount(){this._listeners.length=0}render(){return a.a.createElement(c.Provider,{value:this.state.value},a.a.createElement(i.Provider,{value:this},this.props.children))}},d()(n,"displayName",t.namespace),s);return{Context:c,Provider:f,Consumer:function(e){const t=a.a.useContext(i);p(t);const n=a.a.useState(t.getState()),s=o()(n,2),r=s[0],c=s[1];return p(t),a.a.useEffect(()=>t.subscribe((e,t)=>{c(t)})),e.children(r)},useStore:function(){const e=a.a.useContext(i);return p(e),e},useSelector:function(e){const t=a.a.useContext(i);p(t);const n=a.a.useState(e(t.getState())),s=o()(n,2),r=s[0],c=s[1];return a.a.useEffect(()=>t.subscribe((t,n)=>{const s=e(n);(function(e,t){if(E(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!E(e[n[a]],t[n[a]]))return!1;return!0})(r,s)||c(s)})),r},useActions:function(){const e=a.a.useContext(i);return p(e),e.getActions()},useDispatch:function(){const e=a.a.useContext(i);p(e);const t=e.getActions();return a.a.useCallback((e,n)=>{if(t[e])return t[e](n)},[e])},connect:function(e,t){const n=a.a.useContext(i);p(n);const s=function(s){return function(r){return a.a.createElement(a.a.Fragment,null,a.a.createElement(s,u()({},r,null===e||void 0===e?void 0:e(n.getState(),r),null===t||void 0===t?void 0:t(n.getActions(),r))))}};return s}}}({items:[{id:Date.now(),title:"item",desc:"test",seq:1}]},{actions:{add(e,{state:t,setState:n}){n({items:[...t.items,Object.assign({id:Date.now(),seq:1},e)]})},remove(e,{state:t,setState:n}){n({items:t.items.filter(t=>t.id!==e)})},update(e,{state:t,setState:n}){n({items:t.items.map(t=>t.id===e?Object.assign({},t,{seq:t.seq+1}):t)})}}});const b=a.a.memo((function({id:e}){const t=g.useActions(),n=t.remove,s=t.update,r=g.useSelector(t=>t.items.find(t=>t.id===e));return r?a.a.createElement("div",{className:"item"},a.a.createElement("div",{className:"title"},r.id,". ",r.title),a.a.createElement("div",{className:"desc"},r.desc," - [",r.seq," ",a.a.createElement("button",{onClick:()=>s(r.id)},"refresh"),"] --"," ",Date.now()),a.a.createElement("div",{className:"remove",onClick:()=>n(r.id)},"Remove")):null}));function S(){const e=g.useSelector(e=>e.items);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,"timestamp: ",Date.now()),e.length?null:a.a.createElement("div",{className:"item"},"no data."),e.map((e,t)=>a.a.createElement(b,{key:e.id,id:e.id})))}function C(){const e=g.useActions().add;return a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{onClick:()=>e({title:"item",desc:"test"})},"Add"))}function x(){const e=g.useSelector(e=>e.items.length);return a.a.createElement("div",{className:"total"},e," total")}function k(e){let t=a.a.useState(0),n=o()(t,2),s=n[0],r=n[1];return a.a.useEffect(()=>{r(s+1)},[e]),a.a.createElement(a.a.Fragment,null,s)}class y extends a.a.Component{render(){return a.a.createElement("div",{className:"todo-list"},a.a.createElement(g.Provider,null,a.a.createElement(C,null),a.a.createElement("button",{onClick:()=>this.forceUpdate()},"Refresh")," ",a.a.createElement(k,null),a.a.createElement(x,null),a.a.createElement(S,null)))}}var w=y;function _(){return a.a.createElement("div",{className:"main"},a.a.createElement(w,null),a.a.createElement(w,null))}i.a.render(a.a.createElement(_,null),document.getElementById("root"))},75:function(e,t,n){n(76),e.exports=n(125)}},[[75,1,2]]]);