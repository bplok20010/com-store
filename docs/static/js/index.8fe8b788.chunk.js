(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(t,e,n){},125:function(t,e,n){"use strict";n.r(e);var s=n(0),a=n.n(s),i=n(71),r=n.n(i),o=(n(111),n(67),n(18)),c=n.n(o),l=(n(118),n(24),n(38),n(119),n(120),n(121),n(123),n(72)),u=n.n(l),m=n(6),d=n.n(m),h=n(73),f=n.n(h),v=n(74);function E(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}n.n(v).a;function p(t){t.__$isProvider||f()(!1)}class g{get state(){return this._provider.getState()}constructor({name:t,actions:e,provider:n}){d()(this,"name",void 0),d()(this,"actions",{}),d()(this,"_provider",void 0),d()(this,"setState",(t,e)=>{this._provider.setState(t,()=>null===e||void 0===e?void 0:e(this._provider.getState()))}),this.name=t,this._provider=n,e&&Object.keys(e).forEach(t=>{this.actions[t]=e[t].bind(this)})}}function S(t){const e="function"===typeof t.state?t.state():t.state,n=Object.assign({},e);return t.stores&&Object.keys(t.stores).forEach(e=>{n[e]=t.stores[e].state}),n}var b=function(t){const e=S(t),n=a.a.createContext({state:e}),s=a.a.createContext(e),i=class extends a.a.Component{componentDidMount(){}constructor(e){super(e),d()(this,"store",void 0),d()(this,"_listeners",[]),d()(this,"__$isProvider",!0),d()(this,"state",S(t));const n={};t.models&&Object.keys(t.models).forEach(e=>{const s=()=>this.getState()[e],a=t.models[e],i=new g({name:e,actions:a.actions,provider:{getState:s,setState:(t,n)=>this.setState({[e]:Object.assign({},s(),t)},n)}});n[e]=i.actions}),this.store=new g({name:"__$$$ROOT_STATE_0eed#0$KLU%^1$$$___",actions:Object.assign({},t.actions,n),provider:{getState:this.getState.bind(this),setState:this.setState.bind(this)}})}getSubscribeCount(){return this._listeners.length}getActions(){return this.store.actions}getState(){return this.state}setState(t,e){const n=this.getState();super.setState(t,()=>{this._listeners.forEach(t=>{t(n,this.getState())}),e&&e()})}subscribe(t){return this._listeners.push(t),()=>{const e=this._listeners.indexOf(t);e>-1&&this._listeners.splice(e,1)}}componentWillUnmount(){this._listeners.length=0}render(){return a.a.createElement(s.Provider,{value:this.state},a.a.createElement(n.Provider,{value:this},this.props.children))}},r=function(t){const e=a.a.useContext(n);p(e);const s=a.a.useState(t(e.getState())),i=c()(s,2),r=i[0],o=i[1];return a.a.useEffect(()=>e.subscribe((e,n)=>{const s=t(n);(function(t,e){if(E(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!E(t[n[a]],e[n[a]]))return!1;return!0})(r,s)||o(s)})),r};return{Context:s,Provider:i,Consumer:function(t){const e=a.a.useContext(n);p(e);const s=a.a.useState(e.getState()),i=c()(s,2),r=i[0],o=i[1];return p(e),a.a.useEffect(()=>e.subscribe((t,e)=>{o(e)})),t.children(r)},useStore:function(){const t=a.a.useContext(n);return p(t),t},useSelector:r,useActions:function(){const t=a.a.useContext(n);return p(t),t.getActions()},connect:function(t,e){return function(s){return function(i){const o=a.a.useContext(n);p(o);const c=r(e=>null===t||void 0===t?void 0:t(e,i));return a.a.createElement(a.a.Fragment,null,a.a.createElement(s,u()({},i,c,null===e||void 0===e?void 0:e(o.getActions(),i))))}}}}}({state:{items:[{id:Date.now(),title:"item",desc:"test",seq:1}]},actions:{add(t){const e=this.state;(0,this.setState)({items:[...e.items,Object.assign({id:Date.now(),seq:1},t)]})},remove(t){const e=this.state;(0,this.setState)({items:e.items.filter(e=>e.id!==t)})},update(t){const e=this.state;(0,this.setState)({items:e.items.map(e=>e.id===t?Object.assign({},e,{seq:e.seq+1}):e)})}}});const _=a.a.memo((function({id:t}){const e=b.useActions(),n=e.remove,s=e.update,i=b.useSelector(e=>e.items.find(e=>e.id===t));return i?a.a.createElement("div",{className:"item"},a.a.createElement("div",{className:"title"},i.id,". ",i.title),a.a.createElement("div",{className:"desc"},i.desc," - [",i.seq," ",a.a.createElement("button",{onClick:()=>s(i.id)},"refresh"),"] --"," ",Date.now()),a.a.createElement("div",{className:"remove",onClick:()=>n(i.id)},"Remove")):null}));function C(){const t=b.useSelector(t=>t.items);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,"timestamp: ",Date.now()),t.length?null:a.a.createElement("div",{className:"item"},"no data."),t.map((t,e)=>a.a.createElement(_,{key:t.id,id:t.id})))}function O(){const t=b.useActions().add;return a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{onClick:()=>t({title:"item",desc:"test"})},"Add"))}function j(){const t=b.useSelector(t=>t.items.length);return a.a.createElement("div",{className:"total"},t," total")}function w(t){let e=a.a.useState(0),n=c()(e,2),s=n[0],i=n[1];return a.a.useEffect(()=>{i(s+1)},[t]),a.a.createElement(a.a.Fragment,null,s)}class k extends a.a.Component{render(){return a.a.createElement("div",{className:"todo-list"},a.a.createElement(b.Provider,null,a.a.createElement(O,null),a.a.createElement("button",{onClick:()=>this.forceUpdate()},"Refresh")," ",a.a.createElement(w,null),a.a.createElement(j,null),a.a.createElement(C,null)))}}var x=k;function y(){return a.a.createElement("div",{className:"main"},a.a.createElement(x,null),a.a.createElement(x,null))}r.a.render(a.a.createElement(y,null),document.getElementById("root"))},75:function(t,e,n){n(76),t.exports=n(125)}},[[75,1,2]]]);